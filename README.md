# 🏸 羽毛球数字化开销分析系统

这是一个基于 Python Streamlit 构建的数据可视化看板，旨在帮助羽毛球爱好者记录运动频次、分析开销构成，并追踪装备损耗（如球拍与球线的适配情况）。

## ✨ 功能特性

*   **🏆 竞技座舱 (Dashboard)**: 仿 iOS 风格的 UI 设计，直观展示年度打球时长、资金投入及综合时薪成本。
*   **heatmap 运动热力图**: 类似 GitHub 贡献图的年度可视化组件。
*   **📊 多维可视化**:
    *   通过饼图分析单打、双打、练球的资金与时间占比。
    *   通过堆叠柱状图展示每周的运动强度与开销趋势。
*   **🧬 装备透视**: 专门的球线/球拍适配分析面板，帮助分析哪款球线在使用中最易断线，以及球拍的换线频率。
*   **📝 快捷录入**: 侧边栏集成了双模录入功能，支持快速记录「打球活动」或「新购装备」，数据直接存入 CSV 文件。

## 📂 文件结构说明

本项目采用“开发/发布”分离的架构设计，核心文件按照功能划分如下：

| 目录/文件 | 类型 | 说明 |
| :--- | :--- | :--- |
| **`dist_portable/`** | **发布包** | **用户直接使用此目录**。包含内置 Python 环境、程序代码及启动脚本，无需安装环境即可运行。 |
| └─ `Start_Badminton_Dashboard.bat` | 启动脚本 | 双击此脚本（或根目录的快捷方式）即可启动系统。 |
| **`dev/`** | **开发区** | **开发者维护目录**。包含核心源码，用于功能迭代。 |
| ├─ `badminton_app.py` | 主程序 | Streamlit 应用入口。 |
| ├─ `modules/` | 模块库 | 包含数据加载、KPI计算、图表渲染等核心逻辑。 |
| └─ `themes.py` | 主题配置 | 定义 VS Code 风格的配色方案。 |
| `export_raw_data.ipynb` | 工具 | 数据预处理 Notebook，用于从 Excel 导出为清洗后的 CSV。 |
| `Start_Badminton_Dashboard.bat.lnk` | 快捷方式 | 指向 portable 目录启动脚本的快捷方式，方便在根目录启动。 |

## 🚀 启动方式

你可以根据场景选择以下任意一种方式运行：

### 1. 便携模式 (推荐 & 日常使用) 🖱️

本项目集成了独立的 Python 运行时，**无需安装任何环境**。

*   **方式 A**: 直接双击根目录下的快捷方式 **`Start_Badminton_Dashboard.bat.lnk`**。
*   **方式 B**: 进入 `dist_portable` 目录，双击 **`Start_Badminton_Dashboard.bat`**。

> 系统会自动启动服务，并在默认浏览器中打开看板页面。关闭终端窗口即可停止服务。

### 2. 开发者模式 👨‍💻

如果你需要修改代码或调试功能：

1.  确保已安装 Python 3.11+ 及所需的依赖库 (参见 `dist_portable/Lib/site-packages` 或自行安装)。
2.  进入 `dev` 目录：
    ```bash
    cd dev
    ```
3.  运行命令：
    ```bash
    streamlit run badminton_app.py
    ```

## 💾 数据管理

本项目支持两种数据录入方式：

1.  **APP 直接录入 (推荐)**
    *   在网页侧边栏选择「📝 快捷录入」。
    *   填写表单并点击保存，数据会自动写入 CSV 文件。

2.  **Excel 导入**
    *   使用 `export_raw_data.ipynb` 将 Excel 记录批量转换为 CSV。

## 🎨 UI 风格

系统采用了自定义 CSS 注入，实现了类 iOS/macOS 的设计语言：
*   **字体**: 优先调用系统原生字体 (SF Pro / PingFang SC)。
*   **卡片**: 带有柔和阴影的圆角卡片设计。
*   **交互**: 优化了按钮与 Tab 的悬停和选中状态。
