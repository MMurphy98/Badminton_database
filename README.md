# 🏸 羽毛球数字化开销分析系统

这是一个基于 Python Streamlit 构建的数据可视化看板，旨在帮助羽毛球爱好者记录运动频次、分析开销构成，并追踪装备损耗（如球拍与球线的适配情况）。

## ✨ 功能特性

*   **🏆 竞技座舱 (Dashboard)**: 仿 iOS 风格的 UI 设计，直观展示年度打球时长、资金投入及综合时薪成本。
*   **heatmap 运动热力图**: 类似 GitHub 贡献图的年度可视化组件。
*   **📊 多维可视化**:
    *   通过饼图分析单打、双打、练球的资金与时间占比。
    *   通过堆叠柱状图展示每周的运动强度与开销趋势。
*   **🧬 装备透视**: 专门的球线/球拍适配分析面板，帮助分析哪款球线在使用中最易断线，以及球拍的换线频率。
*   **📝 快捷录入**: 侧边栏集成了双模录入功能，支持快速记录「打球活动」或「新购装备」，数据直接存入 CSV 文件。

## 📂 文件结构说明

本项目采用模块化架构设计，核心代码按照功能拆分如下：

| 文件/目录 | 说明 |
| :--- | :--- |
| `badminton_app.py` | **开发入口**。主程序入口文件。 |
| `modules/` | **核心代码库**。包含UI组件、数据处理、图表绘制逻辑。 |
| `themes.py` | **主题配置**。定义了多套配色方案。 |
| `sessions_cleaned.csv` | **活动数据库**。打球记录存储文件。 |
| `equipment_cleaned.csv` | **装备数据库**。装备购买记录存储文件。 |
| `StartDashBoard.vbs` | **桌面启动器**。Windows 下无窗口静默启动脚本（推荐）。 |
| `DashBoard.bat` | **批处理启动**。用于拉起环境的脚本。 |
| `run_app.py` | **打包入口**。用于 PyInstaller 打包 exe 的引导脚本。 |

## 🚀 启动方式

你可以根据场景选择以下任意一种方式运行：

### 1. Windows 桌面模式 (推荐) 🖱️

这是最常用的日常使用方式，双击即可无窗口后台启动服务。

*   双击根目录下的 **`StartDashBoard.vbs`**。
*   系统会在后台启动服务，并自动打开默认浏览器访问看板。

### 2. 开发者模式 👨‍💻

如果你需要修改代码或查看调试信息：

1.  打开终端 (Terminal)。
2.  运行命令：
    ```bash
    streamlit run badminton_app.py
    ```

### 3. 可执行文件模式 (exe) 📦

如果你已经使用 PyInstaller 进行了打包（基于 `run_app.spec`）：

*   直接运行 `dist/BadmintonDashboard.exe`。
*   **注意**：请确保 `.exe` 同级目录下存在 `sessions_cleaned.csv` 和 `equipment_cleaned.csv`，否则数据无法保存。

## 💾 数据管理

本项目支持两种数据录入方式：

1.  **APP 直接录入 (推荐)**
    *   在网页侧边栏选择「📝 快捷录入」。
    *   填写表单并点击保存，数据会自动写入 CSV 文件。

2.  **Excel 导入**
    *   使用 `export_raw_data.ipynb` 将 Excel 记录批量转换为 CSV。

## 🎨 UI 风格

系统采用了自定义 CSS 注入，实现了类 iOS/macOS 的设计语言：
*   **字体**: 优先调用系统原生字体 (SF Pro / PingFang SC)。
*   **卡片**: 带有柔和阴影的圆角卡片设计。
*   **交互**: 优化了按钮与 Tab 的悬停和选中状态。
